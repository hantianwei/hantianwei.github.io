<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>基于Freemarker的适用于Mybatis的代码生成器-（五）模板篇 · 韩天伟</title><meta name="description" content="基于Freemarker的适用于Mybatis的代码生成器-（五）模板篇"><meta name="keywords" content="基于Freemarker的适用于Mybatis的代码生成器-（五）模板篇"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="http://www.hantianwei.com/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.hantianwei.com/atom.xml" title="韩天伟"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/hantianwei" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/hantianwei" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><!--postType 0-Index 1-Archive 2-Post--><div class="post"><article class="post-block"><h1 class="post-title">基于Freemarker的适用于Mybatis的代码生成器-（五）模板篇</h1><div class="post-info"><img src="http://www.hantianwei.com/images/date-icon.png" class="date-icon">2017年6月29日<span class="author info">Tianwei</span><img src="http://www.hantianwei.com/images/cate-icon.png" class="category-icon"><i class="fa fa-tag"><a href="/categories/JAVA/" title="JAVA" class="tag">JAVA </a></i></div><div class="post-content"><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><ul>
<li>通用框架有了，最后我们要提供基于FreeMarker的模板</li>
</ul>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><ul>
<li>这里就不一一说了，提供一下我写的几个模板</li>
<li>实体</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_MODEL_NAME&#125;;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.math.BigDecimal;</div><div class="line"><span class="keyword">import</span> java.sql.Time;</div><div class="line"><span class="keyword">import</span> java.util.Date;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">* -------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">* 功能描述：	代码处成器生成</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* 创建人：　	代码生成</span></div><div class="line"><span class="comment">* 创建日期：	$&#123;.now&#125;</span></div><div class="line"><span class="comment">* 创建说明： 	$&#123; tableProName?cap_first &#125;实体</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* 修改人：　</span></div><div class="line"><span class="comment">* 修改日期：</span></div><div class="line"><span class="comment">* 修改说明：</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* -------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> $</span>&#123; tableProName?cap_first &#125;  &#123;</div><div class="line"></div><div class="line">	&lt;#list fieldList as pro&gt;</div><div class="line">	<span class="keyword">private</span>  $&#123;pro.type&#125; $&#123;pro.proName&#125;; <span class="comment">//$&#123;pro.description&#125;</span></div><div class="line">	&lt;/#list&gt;</div><div class="line"></div><div class="line">	&lt;#list fieldList as pro&gt;</div><div class="line">	<span class="comment">//$&#123;pro.description&#125;</span></div><div class="line">	<span class="keyword">public</span> $&#123;pro.type&#125; get$&#123;pro.proName?cap_first&#125;() &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.$&#123;pro.proName&#125;;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">void</span> set$&#123;pro.proName?cap_first&#125;($&#123;pro.type&#125; $&#123;pro.proName&#125;) &#123;</div><div class="line">	&lt;#if config.TRIM_STRINGS &amp;&amp; pro.type=="String"&gt;</div><div class="line">    	<span class="keyword">this</span>.$&#123;pro.proName&#125; = $&#123;pro.proName&#125; == <span class="keyword">null</span> ? <span class="keyword">null</span> : $&#123;pro.proName&#125;.trim();</div><div class="line">	&lt;#else &gt;</div><div class="line">		<span class="keyword">this</span>.$&#123;pro.proName&#125; = $&#123;pro.proName&#125;;</div><div class="line">	&lt;/#if&gt;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	&lt;/#list&gt;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>数据层</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_DAO_NAME&#125;;</div><div class="line"></div><div class="line"><span class="keyword">import</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_MODEL_NAME&#125;.$&#123;tableProName?cap_first&#125;;</div><div class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Param;</div><div class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</div><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">* -------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">* 功能描述：	代码处成器生成</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* 创建人：　	代码生成</span></div><div class="line"><span class="comment">* 创建日期：	$&#123;.now&#125;</span></div><div class="line"><span class="comment">* 创建说明： 	$&#123; tableProName?cap_first &#125;数据操作</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* 修改人：　</span></div><div class="line"><span class="comment">* 修改日期：</span></div><div class="line"><span class="comment">* 修改说明：</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* -------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="meta">@Repository</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> $</span>&#123;tableProName?cap_first&#125;Dao &#123;</div><div class="line"></div><div class="line">	$&#123;fieldPk.type&#125; add(<span class="meta">@Param</span>(<span class="string">"$&#123;tableProName&#125;"</span>) $&#123;tableProName?cap_first&#125; $&#123;tableProName&#125;);</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(@Param(<span class="string">"$&#123;tableProName&#125;"</span>)</span> $</span>&#123;tableProName?cap_first&#125; $&#123;tableProName&#125;);</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(@Param(<span class="string">"$&#123;fieldPk.proName&#125;"</span>)</span> $</span>&#123;fieldPk.type&#125; $&#123;fieldPk.proName&#125;);</div><div class="line"></div><div class="line">	$&#123;tableProName?cap_first&#125; getByUserId(<span class="meta">@Param</span>(<span class="string">"$&#123;fieldPk.proName&#125;"</span>) $&#123;fieldPk.type&#125; $&#123;fieldPk.proName&#125;);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>service</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_SERVICE_NAME&#125;.impl;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">* -------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">* 功能描述：	代码处成器生成</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* 创建人：　	代码生成</span></div><div class="line"><span class="comment">* 创建日期：	$&#123;.now&#125;</span></div><div class="line"><span class="comment">* 创建说明： 	$&#123; tableProName?cap_first &#125;业务逻辑实现</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* 修改人：　</span></div><div class="line"><span class="comment">* 修改日期：</span></div><div class="line"><span class="comment">* 修改说明：</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* -------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_MODEL_NAME&#125;.$&#123;tableProName?cap_first&#125;;</div><div class="line"><span class="keyword">import</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_DAO_NAME&#125;.$&#123;tableProName?cap_first&#125;Dao;</div><div class="line"><span class="keyword">import</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_ISERVICE_NAME&#125;.I$&#123;tableProName?cap_first&#125;Service;</div><div class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</div><div class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</div><div class="line"></div><div class="line"><span class="keyword">import</span> javax.annotation.Resource;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"></div><div class="line"><span class="meta">@Service</span></div><div class="line"><span class="meta">@Transactional</span>(rollbackFor = Exception.class)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> $</span>&#123;tableProName?cap_first&#125;Service implements I$&#123;tableProName?cap_first&#125;Service &#123;</div><div class="line"></div><div class="line">	<span class="meta">@Resource</span></div><div class="line">	<span class="keyword">private</span> $&#123;tableProName?cap_first&#125;Dao $&#123;tableProName&#125;Dao;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> $&#123;tableProName?cap_first&#125; add($&#123;tableProName?cap_first&#125; $&#123;tableProName&#125;)&#123;</div><div class="line">		$&#123;fieldPk.type&#125; $&#123;fieldPk.proName&#125; = $&#123;tableProName&#125;Dao.add($&#123;tableProName&#125;);</div><div class="line">		$&#123;tableProName&#125;.set$&#123;fieldPk.proName?cap_first&#125;($&#123;fieldPk.proName&#125;);</div><div class="line">		<span class="keyword">return</span> $&#123;tableProName&#125;;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">($&#123;tableProName?cap_first&#125; $&#123;tableProName&#125;)</span></span>&#123;</div><div class="line">		$&#123;tableProName&#125;Dao.update($&#123;tableProName&#125;);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">($&#123;fieldPk.type&#125; $&#123;fieldPk.proName&#125;)</span></span>&#123;</div><div class="line">		$&#123;tableProName&#125;Dao.remove($&#123;fieldPk.proName&#125;);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> User getBy$&#123;fieldPk.proName?cap_first&#125;($&#123;fieldPk.type&#125; $&#123;fieldPk.proName&#125;)&#123;</div><div class="line">		<span class="keyword">return</span> $&#123;tableProName&#125;Dao.getBy$&#123;fieldPk.proName?cap_first&#125;($&#123;fieldPk.proName&#125;);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>IService</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_ISERVICE_NAME&#125;;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">* -------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">* 功能描述：	代码处成器生成</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* 创建人：　	代码生成</span></div><div class="line"><span class="comment">* 创建日期：	$&#123;.now&#125;</span></div><div class="line"><span class="comment">* 创建说明： 	$&#123; tableProName?cap_first &#125;业务逻辑接口</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* 修改人：　</span></div><div class="line"><span class="comment">* 修改日期：</span></div><div class="line"><span class="comment">* 修改说明：</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">* -------------------------------------------------------------------------------</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_MODEL_NAME&#125;.$&#123;tableProName?cap_first&#125;;</div><div class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"></div><div class="line"><span class="meta">@Repository</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">I</span>$</span>&#123;tableProName?cap_first&#125;$&#123;config.PACKAGE_SERVICE_NAME?cap_first&#125; &#123;</div><div class="line"></div><div class="line">    $&#123;tableProName?cap_first&#125; add($&#123;tableProName?cap_first&#125; $&#123;tableProName&#125;);</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">($&#123;tableProName?cap_first&#125; $&#123;tableProName&#125;)</span></span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">($&#123;fieldPk.type&#125; $&#123;fieldPk.proName&#125;)</span></span>;</div><div class="line"></div><div class="line">    $&#123;tableProName?cap_first&#125; getBy$&#123;fieldPk.proName?cap_first&#125;($&#123;fieldPk.type&#125; $&#123;fieldPk.proName&#125;);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Mapper</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="meta">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" &gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"package $&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_DAO_NAME&#125;.$&#123;tableName?cap_first&#125;$&#123;config.PACKAGE_DAO_NAME?cap_first&#125;"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"$&#123;tableName?cap_first&#125;BaseMap"</span> <span class="attr">type</span>=<span class="string">"$&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_MODEL_NAME&#125;.$&#123;tableName?cap_first&#125;"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">#list</span> <span class="attr">fieldList</span> <span class="attr">as</span> <span class="attr">pro</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">#if</span> <span class="attr">pro.isPk</span> == <span class="string">1</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">"$&#123;pro.name&#125;"</span> <span class="attr">property</span>=<span class="string">"$&#123;pro.proName&#125;"</span> <span class="attr">jdbcType</span>=<span class="string">"$&#123;pro.jdbcType&#125;"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">#else</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"$&#123;pro.name&#125;"</span> <span class="attr">property</span>=<span class="string">"$&#123;pro.proName&#125;"</span> <span class="attr">jdbcType</span>=<span class="string">"$&#123;pro.jdbcType&#125;"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">#if</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">#list</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"add"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"$&#123;fieldPk.name&#125;"</span> <span class="attr">parameterType</span>=<span class="string">"$&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_MODEL_NAME&#125;.$&#123;tableName?cap_first&#125;"</span>&gt;</span></div><div class="line">        INSERT INTO $&#123;tableName&#125;(<span class="tag">&lt;<span class="name">#list</span> <span class="attr">fieldList</span> <span class="attr">as</span> <span class="attr">pro</span>&gt;</span><span class="tag">&lt;<span class="name">#if</span> <span class="attr">pro.isIdentity</span>==<span class="string">0</span>&gt;</span>$&#123;pro.name&#125;<span class="tag">&lt;<span class="name">#if</span> <span class="attr">pro_has_next</span>&gt;</span>,<span class="tag">&lt;/<span class="name">#if</span>&gt;</span><span class="tag">&lt;/<span class="name">#if</span>&gt;</span><span class="tag">&lt;/<span class="name">#list</span>&gt;</span>) VALUES(<span class="tag">&lt;<span class="name">#list</span> <span class="attr">fieldList</span> <span class="attr">as</span> <span class="attr">pro</span>&gt;</span><span class="tag">&lt;<span class="name">#if</span> <span class="attr">pro.isIdentity</span>==<span class="string">0</span>&gt;</span>$&#123;r'#'&#125;&#123;$&#123;pro.proName&#125;&#125;<span class="tag">&lt;<span class="name">#if</span> <span class="attr">pro_has_next</span>&gt;</span>,<span class="tag">&lt;/<span class="name">#if</span>&gt;</span><span class="tag">&lt;/<span class="name">#if</span>&gt;</span><span class="tag">&lt;/<span class="name">#list</span>&gt;</span>)</div><div class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">"update"</span>  <span class="attr">parameterType</span>=<span class="string">"$&#123;config.PACKAGE_ROOT_NAME&#125;.$&#123;config.PACKAGE_MODEL_NAME&#125;.$&#123;tableName?cap_first&#125;"</span>&gt;</span></div><div class="line">        UPDATE</div><div class="line">            $&#123;tableName&#125;</div><div class="line">        SET</div><div class="line">        <span class="tag">&lt;<span class="name">#list</span> <span class="attr">fieldList</span> <span class="attr">as</span> <span class="attr">pro</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">#if</span> <span class="attr">pro.isIdentity</span>==<span class="string">0</span>&gt;</span></div><div class="line">            $&#123;pro.name&#125; = $&#123;r'#'&#125;&#123;$&#123;pro.proName&#125;&#125;<span class="tag">&lt;<span class="name">#if</span> <span class="attr">pro_has_next</span>&gt;</span>,<span class="tag">&lt;/<span class="name">#if</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">#if</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">#list</span>&gt;</span></div><div class="line">        WHERE</div><div class="line">            $&#123;fieldPk.name&#125;=$&#123;r'#'&#125;&#123;$&#123;fieldPk.proName&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"remove"</span> <span class="attr">parameterType</span>=<span class="string">"$&#123;fieldPk.type&#125;"</span>&gt;</span></div><div class="line">        DELETE FROM $&#123;tableName&#125; WHERE $&#123;fieldPk.name&#125;=$&#123;r'#'&#125;&#123;$&#123;fieldPk.proName&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getBy$&#123;fieldPk.proName?cap_first&#125;"</span> <span class="attr">parameterType</span>=<span class="string">"java.lang.Long"</span> <span class="attr">resultMap</span>=<span class="string">"$&#123;tableName?cap_first&#125;BaseMap"</span>&gt;</span></div><div class="line">        SELECT</div><div class="line">        <span class="tag">&lt;<span class="name">#list</span> <span class="attr">fieldList</span> <span class="attr">as</span> <span class="attr">pro</span>&gt;</span></div><div class="line">            $&#123;pro.name&#125;<span class="tag">&lt;<span class="name">#if</span> <span class="attr">pro_has_next</span>&gt;</span>,<span class="tag">&lt;/<span class="name">#if</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">#list</span>&gt;</span></div><div class="line">        FROM</div><div class="line">            $&#123;tableName&#125;</div><div class="line">        WHERE</div><div class="line">            $&#123;fieldPk.name&#125;=$&#123;r'#'&#125;&#123;$&#123;fieldPk.proName&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>可以正式试用了，也申请了提交Maven中央仓库</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">java -jar jgenerator.jar config.properties</div></pre></td></tr></table></figure>
<ul>
<li>开源地址：<a href="https://github.com/hantianwei/jgenerator" target="_blank" rel="external">https://github.com/hantianwei/jgenerator</a></li>
</ul>
</div><span class="tags">Tags:</span><i class="fa fa-tag"><a href="/tags/Freemarker/" title="Freemarker" class="tag">Freemarker </a><a href="/tags/codeGenerator/" title="codeGenerator" class="tag">codeGenerator </a><a href="/tags/Mybatis/" title="Mybatis" class="tag">Mybatis </a></i></article></div></main><footer><div class="paginator"><a href="/2017/06/101/code-generator-freemarker-mybatis-summary/" class="prev">上一篇</a><a href="/2017/06/101/code-generator-freemarker-mybatis-file/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://www.hantianwei.com">Tianwei</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/hantianwei/hexo" target="_blank">apollo</a>.</p></div></footer></div></body></html>