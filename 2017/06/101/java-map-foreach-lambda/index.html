<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Java中遍历Map的几种方法 · 韩天伟</title><meta name="description" content="Java中遍历Map的几种方法"><meta name="keywords" content="Java中遍历Map的几种方法"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="http://www.hantianwei.com/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.hantianwei.com/atom.xml" title="韩天伟"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/hantianwei" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/hantianwei" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><!--postType 0-Index 1-Archive 2-Post--><div class="post"><article class="post-block"><h1 class="post-title">Java中遍历Map的几种方法</h1><div class="post-info"><img src="http://www.hantianwei.com/images/date-icon.png" class="date-icon">2017年6月25日<span class="author info">Tianwei</span><img src="http://www.hantianwei.com/images/cate-icon.png" class="category-icon"><i class="fa fa-tag"><a href="/categories/JAVA/" title="JAVA" class="tag">JAVA </a></i></div><div class="post-content"><h1 id="Java中遍历Map的几种方法"><a href="#Java中遍历Map的几种方法" class="headerlink" title="Java中遍历Map的几种方法"></a>Java中遍历Map的几种方法</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><pre><code>java中的map遍历有多种方法，从最早的Iterator，到java5支持的foreach,再到java8 Lambda，让我们一起来看下具体的用法以及各自的优缺点
先初始化一个map
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br></pre></td></tr></table></figure>
<h2 id="keySet-values"><a href="#keySet-values" class="headerlink" title="keySet values"></a>keySet values</h2><pre><code>如果只需要map的key或者value，用map的keySet或values方法无疑是最方便的
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获以Key</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testKeyset</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Integer key :map.keySet())&#123;</span><br><span class="line">        System.out.println(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获以Value</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testValue</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Integer value :map.values())&#123;</span><br><span class="line">        System.out.println(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="keySet-get-key"><a href="#keySet-get-key" class="headerlink" title="keySet get(key)"></a>keySet get(key)</h2><p>  如果需要同时获取key和value，可以先获取key,然后再通过map的get(key)获取value<br>  需要说明的是，该方法不是最优选择，一般不推荐使用<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获以Key And key</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testKeysetAndKey</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Integer key :map.keySet())&#123;</span><br><span class="line">        System.out.println(key+<span class="string">":"</span>+map.get(key));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="entrySet"><a href="#entrySet" class="headerlink" title="entrySet"></a>entrySet</h2><p>  通过对map entrySet的遍历，也可以同时拿到key和value，一般情况下，性能上要优于上一种,这一种也是最常用的遍历方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获以Key And key</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testEntry</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Map.Entry&lt;Integer,Integer&gt; entry:map.entrySet())&#123;</span><br><span class="line">        System.out.println(entry.getKey()+<span class="string">":"</span>+entry.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h2><p>  对于上面的几种foreach都可以用Iterator代替，其实foreach在java5中才被支持，foreach的写法看起来更简洁</p>
<p>  但Iterator也有其优势：在用foreach遍历map时，如果改变其大小，会报错，但如果只是删除元素，可以使用Iterator的remove方法删除元素<br>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获以Key And key</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testIterator</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Iterator&lt;Map.Entry&lt;Integer,Integer&gt;&gt; it = map.entrySet().iterator();</span><br><span class="line">    <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">        Map.Entry&lt;Integer,Integer&gt; entry = it.next();</span><br><span class="line">        System.out.println(entry.getKey()+<span class="string">":"</span>+entry.getValue());</span><br><span class="line">        it.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h2><pre><code>java8提供了Lambda表达式支持，语法看起来更简洁，可以同时拿到key和value，不过，经测试，性能低于entrySet,所以更推荐用entrySet的方式
</code></pre>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获以Key And key</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testLambda</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    map.forEach((key, value) -&gt; &#123;</span><br><span class="line">        System.out.println(key + <span class="string">":"</span> + value);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><span class="tags">Tags:</span><i class="fa fa-tag"><a href="/tags/java/" title="java" class="tag">java </a><a href="/tags/map/" title="map" class="tag">map </a><a href="/tags/lambda/" title="lambda" class="tag">lambda </a></i></article></div></main><footer><div class="paginator"><a href="/2017/06/101/idea-setting-artifacts-bugs/" class="prev">上一篇</a><a href="/2017/06/101/idea-maven-local-package-jar/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2018 <a href="http://www.hantianwei.com">Tianwei</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/hantianwei/hexo" target="_blank">apollo</a>.</p></div></footer></div></body></html>